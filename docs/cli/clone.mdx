---
title: Clone Command
description: Command for cloning Xata databases and external PostgreSQL databases
---

The `clone` command helps you create a copy of your Xata database or clone an external PostgreSQL database into Xata. It supports data anonymization and advanced configuration for complex migration scenarios.

## Subcommands

### start

Start performs a snapshot of the configured source Postgres database into the configured target.

```bash
xata clone start [--source-url <url>] [--config <file>] [--log-level <level>] [--dump-file <file>] [--postgres-url <url>] [--profile] [--reset] [--tables <tables>] [--target <type>] [--target-url <url>] [--organization <id>] [--project <id>] [--branch <id>] [--filter-tables <tables>] [--validation-mode <mode>] [--role <role>] [-h|--help]
```

- `--source-url`: The source URL of the database to clone
- `--config`: .env or .yaml config file to use with pgstream if any
- `--log-level`: Log level for the application. One of trace, debug, info, warn, error, fatal, panic
- `--dump-file`: File where the pg_dump output will be written
- `--postgres-url`: Source postgres database to perform the snapshot from
- `--profile`: Whether to produce CPU and memory profile files, as well as exposing a /debug/pprof endpoint on localhost:6060
- `--reset`: Whether to reset the target before snapshotting (only for postgres target)
- `--tables`: List of tables to snapshot, in the format `<schema>.<table>`. If not specified, the schema `public` will be assumed. Wildcards are supported
- `--target`: Target type. One of postgres, opensearch, elasticsearch, kafka
- `--target-url`: Target URL
- `--organization`: Organization ID (default: "")
- `--project`: Project ID (default: "")
- `--branch`: Branch ID (default: "")
- `--filter-tables`: Tables to filter (default: _._)
- `--validation-mode`: Anonymization validation mode, strict implies that all tables and columns should be specified (strict|relaxed|prompt, default: prompt)
- `--role`: Postgres role to use for the clone
- `-h, --help`: Print help information and exit

### config

Automatically configure the transformations for the clone command.

```bash
xata clone config [--source-url <url>] [--mode <mode>] [--validation-mode <mode>] [--organization <id>] [--project <id>] [--branch <id>] [-h|--help]
```

- `--source-url`: The source URL of the database to clone
- `--mode`: The assisting mode to help with the configuration generation (auto|prompt|web|ai, default: prompt)
- `--validation-mode`: Anonymization validation mode, strict implies that all tables and columns should be specified (strict|relaxed|prompt, default: prompt)
- `--organization`: Organization ID (default: "")
- `--project`: Project ID (default: "")
- `--branch`: Branch ID (default: "")
- `-h, --help`: Print help information and exit

### stream

Start a continuous data stream from the configured source to the configured target.

```bash
xata clone stream --source-url <url> [--config <file>] [--log-level <level>] [--init] [--profile] [--replication-slot <name>] [--reset] [--snapshot-tables <tables>] [--source <type>] [--target <type>] [--target-url <url>] [--organization <id>] [--project <id>] [--branch <id>] [--filter-tables <tables>] [--validation-mode <mode>] [--role <role>] [-h|--help]
```

- `--source-url`: The source URL of the database to stream from (required)
- `--config`: .env or .yaml config file to use with pgstream if any
- `--log-level`: Log level for pgstream (trace|debug|info|warn|error|fatal|panic, default: info)
- `--init`: Whether to initialize pgstream before starting replication
- `--profile`: Whether to expose a /debug/pprof endpoint on localhost:6060
- `--replication-slot`: Name of the postgres replication slot for pgstream to connect to
- `--reset`: Whether to reset the target before snapshotting (only for postgres target)
- `--snapshot-tables`: List of tables to snapshot if initial snapshot is required, in the format `<schema>.<table>`. If not specified, the schema `public` will be assumed. Wildcards are supported
- `--source`: Source type. One of postgres, kafka
- `--target`: Target type. One of postgres, opensearch, elasticsearch, kafka
- `--target-url`: Target URL
- `--organization`: Organization ID
- `--project`: Project ID
- `--branch`: Branch ID
- `--filter-tables`: Tables to filter (default: _._)
- `--validation-mode`: Anonymization validation mode, strict implies that all tables and columns should be specified (strict|relaxed|prompt, default: prompt)
- `--role`: Postgres role to use for streaming
- `-h, --help`: Print help information and exit

## Global Flags

- `-h, --help` - Print help information and exit
- `--json` - Output in JSON format
